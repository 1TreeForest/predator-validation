{"version":3,"sources":["webpack://[name]/webpack/bootstrap","webpack://[name]/../node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://[name]/../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://[name]/../node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://[name]/../node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://[name]/./frontend/boxes/image-map.js"],"names":["compressionRatio","countCompressionRatio","img","$","widthCurrent","width","css","widthOrigin","window","on","prepareHoverItems","productItems","categoriesItems","infoItems","brandsItems","locationsItems","defaultsItems","commonItems","wrapper","parent","fuse","hasClass","products","each","data","defaults","categories","info","brands","locations","common","findLimitPositions","s","previousItems","gTop","top","gLeft","left","gRight","gBottom","height","forEach","item","itemTop","offset","itemLeft","itemRight","parseInt","itemBottom","right","bottom","findEmptyArea","svgPosition","quotient","sTop","wScroll","sLeft","wWidth","sWidth","wHeight","sHeight","quotientMax","emptyArea","key","schemaSize","linkedHoverItems","countsInRow","maxWidth","maxHeight","heights","size","chooseHoverItemPosition","countItems","length","check","hoverItem","position","getHoverItemSize","hideHoverItems","hoverItems","type","hasOwnProperty","id","getSvgPosition","svgItem","scrollTop","get","tagName","attr","points","trim","replace","split","getTopLeftPosition","Math","floor","setHoverItemPosition","schema","tops","leftTmp","itemPositionScroll","event","overSvgItems","svgItems","showingKey","hover","ids","push","off","showingKeyId","setTimeout","noItems","addClass","imageMap","allItemsJson","allItems","JSON","parse","widget","svg"],"mappings":"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","file":"themes/basic/js/image-map.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./frontend/boxes/image-map.js\");\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","let compressionRatio = 1;\r\n\r\nlet countCompressionRatio = function(){\r\n    let img = $('.svg-wrap img');\r\n    let widthCurrent = img.width();\r\n    img.css({\r\n        'position': 'absolute',\r\n        'width': 'auto',\r\n        'height': 'auto',\r\n        'max-width': 'none',\r\n        'max-height': 'none',\r\n    });\r\n    let widthOrigin = img.width();\r\n    img.css({\r\n        'position': '',\r\n        'width': '',\r\n        'height': '',\r\n        'max-width': '',\r\n        'max-height': '',\r\n    });\r\n    compressionRatio = widthCurrent/widthOrigin;\r\n};\r\ncountCompressionRatio();\r\n$(window).on('resize', countCompressionRatio);\r\n\r\nlet prepareHoverItems = function() {\r\n    let productItems = $('.products-items .item');\r\n    let categoriesItems = $('.categories-items .item');\r\n    let infoItems = $('.info-items .item');\r\n    let brandsItems = $('.brands-items .item');\r\n    let locationsItems = $('.locations-items .item');\r\n    let defaultsItems = $('.default-links .item');\r\n    let commonItems = $('.common-links .item');\r\n\r\n    //remove styles for elements which wrap products\r\n    let wrapper = productItems.parent();\r\n    let fuse = 0;\r\n    while (!wrapper.hasClass('products-items') && fuse < 20){\r\n        fuse++;\r\n        wrapper.css({\r\n            'margin': '0',\r\n            'padding': '0',\r\n            'border': 'none',\r\n            'box-shadow': 'none',\r\n            'background': 'none',\r\n            'overflow': 'visible',\r\n            'position': 'static'\r\n        });\r\n        wrapper = wrapper.parent()\r\n    }\r\n\r\n    let products = {};\r\n    productItems.each(function(){\r\n        products[$(this).data('id')] = $(this);\r\n    });\r\n\r\n    let defaults = {};\r\n    defaultsItems.each(function(){\r\n        defaults[$(this).data('id')] = $(this);\r\n    });\r\n\r\n    let categories = {};\r\n    categoriesItems.each(function(){\r\n        categories[$(this).data('id')] = $(this);\r\n    });\r\n\r\n    let info = {};\r\n    infoItems.each(function(){\r\n        info[$(this).data('id')] = $(this);\r\n    });\r\n\r\n    let brands = {};\r\n    brandsItems.each(function(){\r\n        brands[$(this).data('id')] = $(this);\r\n    });\r\n\r\n    let locations = {};\r\n    locationsItems.each(function(){\r\n        locations[$(this).data('id')] = $(this);\r\n    });\r\n\r\n    let common = {};\r\n    commonItems.each(function(){\r\n        common[$(this).data('id')] = $(this);\r\n    });\r\n\r\n\r\n    return {\r\n        products: products,\r\n        defaults: defaults,\r\n        categories: categories,\r\n        info: info,\r\n        brands: brands,\r\n        locations: locations,\r\n        common: common,\r\n    }\r\n};\r\n\r\nfunction findLimitPositions(s, previousItems){\r\n    let gTop = s.top;\r\n    let gLeft = s.left;\r\n    let gRight = s.left + s.width;\r\n    let gBottom = s.top + s.height;\r\n\r\n    previousItems.forEach(function(item){\r\n        let itemTop = item.offset().top;\r\n        let itemLeft = item.offset().left;\r\n        let itemRight = itemLeft + item.width() + parseInt(item.css('padding-left')) + parseInt(item.css('padding-right'));\r\n        let itemBottom = itemTop + item.height() + parseInt(item.css('padding-top')) + parseInt(item.css('padding-bottom'));\r\n\r\n        if (itemTop < gTop) {\r\n            gTop = itemTop;\r\n        }\r\n        if (itemLeft < gLeft) {\r\n            gLeft = itemLeft;\r\n        }\r\n        if (itemRight > gRight) {\r\n            gRight = itemRight;\r\n        }\r\n        if (itemBottom > gBottom) {\r\n            gBottom = itemBottom;\r\n        }\r\n    });\r\n\r\n    return {\r\n        top: gTop,\r\n        left: gLeft,\r\n        right: gRight,\r\n        bottom: gBottom,\r\n    }\r\n}\r\n\r\nfunction findEmptyArea(svgPosition, width, height) {\r\n\r\n    let quotient = [\r\n        ['top', (svgPosition.sTop - svgPosition.wScroll) / height],\r\n        ['left', svgPosition.sLeft / width],\r\n        ['right', (svgPosition.wWidth - svgPosition.sLeft - svgPosition.sWidth) / width],\r\n        ['bottom', (svgPosition.wHeight - (svgPosition.sTop - svgPosition.wScroll + svgPosition.sHeight)) / height],\r\n    ];\r\n\r\n    let quotientMax = 0;\r\n    let emptyArea = '';\r\n\r\n    quotient.forEach(function([key, item]){\r\n        if (item > quotientMax) {\r\n            quotientMax = item;\r\n            emptyArea = key;\r\n        }\r\n    });\r\n\r\n    if (quotientMax < 1) {\r\n        return false\r\n    }\r\n\r\n    return emptyArea;\r\n}\r\n\r\nfunction schemaSize(linkedHoverItems, countsInRow) {\r\n    let maxWidth = 0;\r\n    let maxHeight = 0;\r\n    let heights = [0, 0, 0, 0];\r\n\r\n    linkedHoverItems.forEach(function (item, key) {\r\n        heights[key % countsInRow] += item.size.height;\r\n        if (key < countsInRow) {\r\n            maxWidth += item.size.width\r\n        }\r\n    });\r\n    heights.forEach(function (height) {\r\n        if (height > maxHeight) maxHeight = height\r\n    });\r\n\r\n    return [maxWidth, maxHeight]\r\n}\r\n\r\nfunction chooseHoverItemPosition(svgPosition, linkedHoverItems) {\r\n    let countItems = linkedHoverItems.length;\r\n    let maxWidth = 0;\r\n    let maxHeight = 0;\r\n    let check;\r\n\r\n    linkedHoverItems.forEach(function (hoverItem) {\r\n        if (hoverItem.size.height > maxWidth) {\r\n            maxWidth = hoverItem.size.width;\r\n        }\r\n        if (hoverItem.size.height > maxHeight) {\r\n            maxHeight = hoverItem.size.height;\r\n        }\r\n    });\r\n\r\n    if (countItems <= 3 && maxHeight > maxWidth) {\r\n        let [maxWidth, maxHeight] = schemaSize(linkedHoverItems, 3);\r\n        let position = findEmptyArea(svgPosition, maxWidth, maxHeight);\r\n        if (position) {\r\n            return [position, '3']\r\n        }\r\n    }\r\n\r\n    if (countItems <= 3 && maxHeight <= maxWidth) {\r\n        let [maxWidth, maxHeight] = schemaSize(linkedHoverItems, 1);\r\n        let position = findEmptyArea(svgPosition, maxWidth, maxHeight);\r\n        if (position) {\r\n            return [position, '1']\r\n        }\r\n    }\r\n\r\n    if (countItems <= 4) {\r\n        let [maxWidth, maxHeight] = schemaSize(linkedHoverItems, 2);\r\n        let position = findEmptyArea(svgPosition, maxWidth, maxHeight);\r\n        if (position) {\r\n            return [position, '2']\r\n        }\r\n    }\r\n\r\n    if (countItems <= 6) {\r\n        let [maxWidth, maxHeight] = schemaSize(linkedHoverItems, 2);\r\n        let position = findEmptyArea(svgPosition, maxWidth, maxHeight);\r\n        if (position) {\r\n            return [position, '2']\r\n        }\r\n    }\r\n\r\n    if (countItems <= 6) {\r\n        let [maxWidth, maxHeight] = schemaSize(linkedHoverItems, 3);\r\n        let position = findEmptyArea(svgPosition, maxWidth, maxHeight);\r\n        if (position) {\r\n            return [position, '3']\r\n        }\r\n    }\r\n\r\n\r\n    return ['bottom', 'allWidth']\r\n\r\n}\r\n\r\nfunction getHoverItemSize(hoverItem) {\r\n    return {\r\n        width: hoverItem.width() + parseInt(hoverItem.css('padding-left')) + parseInt(hoverItem.css('padding-right')),\r\n        height: hoverItem.height() + parseInt(hoverItem.css('padding-top')) + parseInt(hoverItem.css('padding-bottom'))\r\n    }\r\n}\r\n\r\nfunction hideHoverItems(hoverItems){\r\n    for (let type in hoverItems) {\r\n        if (!hoverItems.hasOwnProperty( type )) continue;\r\n\r\n        for (let id in hoverItems[type]) {\r\n            if (!hoverItems[type].hasOwnProperty( id )) continue;\r\n\r\n            hoverItems[type][id].css('display', '');\r\n        }\r\n    }\r\n}\r\n\r\nfunction getSvgPosition(svgItem) {\r\n\r\n    let wScroll = $(window).scrollTop(),\r\n        wWidth = $(window).width(),\r\n        wHeight = $(window).height(),\r\n        sLeft = svgItem.offset().left,\r\n        sTop = svgItem.offset().top,\r\n        sWidth = 0,\r\n        sHeight = 0;\r\n\r\n    if (svgItem.get(0).tagName === 'rect'){\r\n\r\n        sWidth = svgItem.width() * compressionRatio;\r\n        sHeight = svgItem.height() * compressionRatio;\r\n\r\n    } else if (svgItem.get(0).tagName === 'circle'){\r\n\r\n        sWidth = sHeight = svgItem.attr('r') * 2 * compressionRatio;\r\n\r\n    } else if (svgItem.get(0).tagName === 'polygon') {\r\n\r\n        let points = svgItem.attr('points').trim().replace( /[\\s]+/g, \" \" ).split(' ');\r\n\r\n        let left = 100000,\r\n            right = 0,\r\n            top = 100000,\r\n            bottom = 0;\r\n        points.forEach(function(item, key){\r\n            item = item*1;\r\n            if (key%2 === 0) {\r\n                left = (item < left ? item : left);\r\n                right = (item > right ? item : right);\r\n            } else {\r\n                top = (item < top ? item : top);\r\n                bottom = (item > bottom ? item : bottom);\r\n            }\r\n        });\r\n\r\n        sWidth = (right - left) * compressionRatio;\r\n        sHeight = (bottom - top) * compressionRatio;\r\n    }\r\n\r\n    return {\r\n        sLeft: sLeft,\r\n        sTop: sTop,\r\n        sWidth: sWidth,\r\n        sHeight: sHeight,\r\n        wScroll: wScroll,\r\n        wWidth: wWidth,\r\n        wHeight: wHeight,\r\n    };\r\n\r\n}\r\n\r\nfunction getTopLeftPosition(position, svgPosition, maxWidth, maxHeight) {\r\n    let top;\r\n    let left;\r\n\r\n    switch (position) {\r\n        case 'top':\r\n            left = svgPosition.sLeft + svgPosition.sWidth/2 - maxWidth/2;\r\n            top = svgPosition.sTop - maxHeight;\r\n            break;\r\n        case 'left':\r\n            left = svgPosition.sLeft - maxWidth;\r\n            top = svgPosition.sTop + svgPosition.sHeight/2 - maxHeight/2;\r\n            break;\r\n        case 'right':\r\n            left = svgPosition.sLeft + svgPosition.sWidth;\r\n            top = svgPosition.sTop + svgPosition.sHeight/2 - maxHeight/2;\r\n            break;\r\n        case 'bottom':\r\n            left = svgPosition.sLeft + svgPosition.sWidth/2 - maxWidth/2;\r\n            top = svgPosition.sTop + svgPosition.sHeight\r\n            break;\r\n        default:\r\n            let countsInRow = Math.floor(svgPosition.wWidth / maxWidth);\r\n            left = svgPosition.wWidth/2 - (countsInRow * maxWidth / 2);\r\n            top = svgPosition.sTop + svgPosition.sHeight;\r\n    }\r\n\r\n    top = top - svgPosition.wScroll;\r\n\r\n    if (left < 0) left = 0;\r\n    if (left + maxWidth > svgPosition.wWidth) left = svgPosition.wWidth - maxWidth;\r\n    if (top < 0) top = 0;\r\n\r\n    return [top, left]\r\n}\r\n\r\nfunction setHoverItemPosition(svgPosition, linkedHoverItems, position, schema){\r\n    let countsInRow = schema;\r\n    let maxWidth;\r\n    let maxHeight;\r\n    if (countsInRow === 0){\r\n        maxWidth = linkedHoverItems[0].size.width;\r\n        maxHeight = linkedHoverItems[0].size.height;\r\n        countsInRow = Math.floor(svgPosition.wWidth / maxWidth);\r\n    } else {\r\n        [maxWidth, maxHeight] = schemaSize(linkedHoverItems, countsInRow);\r\n    }\r\n    let [top, left] = getTopLeftPosition(position, svgPosition, maxWidth, maxHeight);\r\n\r\n    let tops = [top, top, top, top, top, top];\r\n    let leftTmp = left;\r\n\r\n    linkedHoverItems.forEach(function (item, key) {\r\n        if (key % countsInRow === 0){\r\n            leftTmp = left;\r\n        }\r\n        item.item.css({\r\n            left: leftTmp,\r\n            top: tops[key % countsInRow]\r\n        });\r\n        leftTmp += item.size.width;\r\n\r\n        tops[key % countsInRow] += item.size.height;\r\n    })\r\n\r\n}\r\n\r\nfunction itemPositionScroll(event){\r\n    event.data.item.css({\r\n        top: event.data.top - $(window).scrollTop() + event.data.scrollTop\r\n    });\r\n};\r\n\r\nlet overSvgItems = function(svgItems, hoverItems){\r\n    let showingKey = {};\r\n    svgItems.hover(function(){\r\n        let type = $(this).data('type');\r\n        let id = $(this).data('id');\r\n        let ids = typeof id === \"string\" ? id.split(',') : [id];\r\n        let linkedHoverItems = [];\r\n\r\n        hideHoverItems(hoverItems);\r\n\r\n        showingKey[type+id] = true;\r\n        ids.forEach(id => {\r\n            let hoverItem = hoverItems[type][id];\r\n            if (hoverItem) {\r\n                hoverItem.css('display', 'block');\r\n                linkedHoverItems.push({item: hoverItem, size: getHoverItemSize(hoverItem)});\r\n            }\r\n        });\r\n\r\n        let svgPosition = getSvgPosition($(this));\r\n        let [position, schema] = chooseHoverItemPosition(svgPosition, linkedHoverItems);\r\n\r\n        setHoverItemPosition(svgPosition, linkedHoverItems, position, schema);\r\n\r\n        $(window).off('scroll', itemPositionScroll);\r\n\r\n        linkedHoverItems.forEach(function (item) {\r\n            let top = parseInt(item.item.css('top'));\r\n            let scrollTop = $(window).scrollTop();\r\n\r\n            $(window).on('scroll', {\r\n                item: item.item,\r\n                top: top,\r\n                scrollTop: scrollTop\r\n            }, itemPositionScroll)\r\n        })\r\n\r\n    }, function(){\r\n        let type = $(this).data('type');\r\n        let id = $(this).data('id');\r\n        let ids = typeof id === \"string\" ? id.split(',') : [id];\r\n        let showingKeyId = type+id;\r\n        showingKey[showingKeyId] = false;\r\n        setTimeout(function(){\r\n            ids.forEach(id => {\r\n                if (!showingKey[showingKeyId] && hoverItems[type][id]) {\r\n                    hoverItems[type][id].css('display', '');\r\n                }\r\n            });\r\n        }, 500)\r\n    });\r\n\r\n    svgItems.each(function(){\r\n        let type = $(this).data('type');\r\n        let id = $(this).data('id');\r\n        let ids = typeof id === \"string\" ? id.split(',') : [id];\r\n        let showingKeyId = type+id;\r\n        let noItems = true;\r\n\r\n        ids.forEach(function(id){\r\n            if (!hoverItems[type][id]) {\r\n                return '';\r\n            }\r\n            noItems = false;\r\n            hoverItems[type][id].hover(function(){\r\n                showingKey[showingKeyId] = true;\r\n            }, function(){\r\n                showingKey[showingKeyId] = false;\r\n                setTimeout(function(){\r\n                    ids.forEach(id => {\r\n                        if (!showingKey[showingKeyId] && hoverItems[type][id]) {\r\n                            hoverItems[type][id].css('display', '');\r\n                        }\r\n                    });\r\n                }, 500)\r\n            })\r\n        })\r\n        if (noItems) {\r\n            $(this).addClass('no-items')\r\n        }\r\n    })\r\n};\r\n\r\n\r\nexport function imageMap(allItemsJson) {\r\n\r\n    let allItems = JSON.parse(allItemsJson);\r\n\r\n    let widget = $('.w-image-maps');\r\n    let svg = $('svg', widget);\r\n    let svgItems = $('*', svg);\r\n\r\n    let hoverItems = prepareHoverItems();\r\n\r\n    overSvgItems(svgItems, hoverItems);\r\n}"],"sourceRoot":""}